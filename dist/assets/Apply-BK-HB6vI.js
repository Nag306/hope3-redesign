import{j as e}from"./index-DejTMX1E.js";import{r as m}from"./vendor-BIF_SMrh.js";import{F as l}from"./FormInput-CHZg5oLd.js";import{B as N}from"./Button-DRuCcBWk.js";import"./router-BmMZLsWO.js";const S=({label:n,accept:d=".pdf,.jpg,.jpeg,.png",multiple:t=!1,maxSize:h=5*1024*1024,onFilesChange:s,error:u,required:g=!1})=>{const[c,p]=m.useState([]),[f,x]=m.useState(!1),v=m.useRef(null),i=a=>{const o=[],y=[];if(Array.from(a).forEach(q=>{q.size>h?y.push(`${q.name} is too large. Maximum size is ${h/(1024*1024)}MB`):o.push(q)}),y.length>0){alert(y.join(`
`));return}const b=t?[...c,...o]:o;p(b),s==null||s(b)},j=a=>{a.preventDefault(),a.stopPropagation(),a.type==="dragenter"||a.type==="dragover"?x(!0):a.type==="dragleave"&&x(!1)},k=a=>{a.preventDefault(),a.stopPropagation(),x(!1),a.dataTransfer.files&&a.dataTransfer.files[0]&&i(a.dataTransfer.files)},w=a=>{a.preventDefault(),a.target.files&&a.target.files[0]&&i(a.target.files)},C=a=>{const o=c.filter((y,b)=>b!==a);p(o),s==null||s(o)},r=()=>{var a;(a=v.current)==null||a.click()};return e.jsxs("div",{className:"space-y-2",children:[n&&e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[n,g&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-6 text-center transition-colors ${f?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":u?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 hover:border-primary-400 dark:hover:border-primary-500"}`,onDragEnter:j,onDragLeave:j,onDragOver:j,onDrop:k,children:[e.jsx("input",{ref:v,type:"file",accept:d,multiple:t,onChange:w,className:"hidden"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"mx-auto w-12 h-12 text-gray-400",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),e.jsxs("div",{children:[e.jsx("button",{type:"button",onClick:r,className:"text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium",children:"Click to upload"}),e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:" or drag and drop"})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[d.split(",").join(", ")," up to ",h/(1024*1024),"MB"]})]})]}),c.length>0&&e.jsx("div",{className:"space-y-2",children:c.map((a,o)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-100 dark:bg-primary-900 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-primary-600 dark:text-primary-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.name}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(a.size/1024).toFixed(1)," KB"]})]})]}),e.jsx("button",{type:"button",onClick:()=>C(o),className:"text-gray-400 hover:text-red-500 transition-colors","aria-label":`Remove ${a.name}`,children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},o))}),u&&e.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 flex items-center space-x-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:u})]})]})},L=({isOpen:n,onClose:d,title:t,children:h,size:s="md",showCloseButton:u=!0})=>{if(m.useEffect(()=>{const c=p=>{p.key==="Escape"&&d()};return n&&(document.addEventListener("keydown",c),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",c),document.body.style.overflow="unset"}},[n,d]),!n)return null;const g={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:d,"aria-hidden":"true"}),e.jsxs("div",{className:`relative bg-white dark:bg-gray-800 rounded-xl shadow-xl w-full ${g[s]} transform transition-all`,role:"dialog","aria-modal":"true","aria-labelledby":t?"modal-title":void 0,children:[(t||u)&&e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[t&&e.jsx("h3",{id:"modal-title",className:"text-lg font-semibold text-gray-900 dark:text-white",children:t}),u&&e.jsx("button",{onClick:d,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":"Close modal",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"p-6",children:h})]})]})})},P=()=>{const[n,d]=m.useState(1),[t,h]=m.useState({firstName:"",lastName:"",email:"",phone:"",dateOfBirth:"",address:"",city:"",state:"",zipCode:"",currentEducationLevel:"",schoolName:"",gpa:"",graduationYear:"",intendedMajor:"",careerGoals:"",documents:[]}),[s,u]=m.useState({}),[g,c]=m.useState(!1),[p,f]=m.useState(!1),x=3,v=r=>{const a={};return r===1&&(t.firstName.trim()||(a.firstName="First name is required"),t.lastName.trim()||(a.lastName="Last name is required"),t.email.trim()||(a.email="Email is required"),t.phone.trim()||(a.phone="Phone number is required"),t.dateOfBirth||(a.dateOfBirth="Date of birth is required"),t.address.trim()||(a.address="Address is required"),t.city.trim()||(a.city="City is required"),t.state.trim()||(a.state="State is required"),t.zipCode.trim()||(a.zipCode="ZIP code is required")),r===2&&(t.currentEducationLevel||(a.currentEducationLevel="Education level is required"),t.schoolName.trim()||(a.schoolName="School name is required"),t.gpa.trim()||(a.gpa="GPA is required"),t.graduationYear||(a.graduationYear="Graduation year is required"),t.intendedMajor.trim()||(a.intendedMajor="Intended major is required"),t.careerGoals.trim()||(a.careerGoals="Career goals are required")),r===3&&t.documents.length===0&&(a.documents="At least one document is required"),u(a),Object.keys(a).length===0},i=(r,a)=>{h(o=>({...o,[r]:a})),s[r]&&u(o=>({...o,[r]:""}))},j=()=>{v(n)&&d(r=>Math.min(r+1,x))},k=()=>{d(r=>Math.max(r-1,1))},w=async()=>{if(v(n)){c(!0);try{if((await fetch("undefined/apply",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)f(!0);else throw new Error("Submission failed")}catch(r){console.error("Error submitting application:",r),alert("There was an error submitting your application. Please try again.")}finally{c(!1)}}},C=()=>{switch(n){case 1:return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(l,{label:"First Name",name:"firstName",value:t.firstName,onChange:r=>i("firstName",r.target.value),error:s.firstName,required:!0}),e.jsx(l,{label:"Last Name",name:"lastName",value:t.lastName,onChange:r=>i("lastName",r.target.value),error:s.lastName,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(l,{label:"Email Address",type:"email",name:"email",value:t.email,onChange:r=>i("email",r.target.value),error:s.email,required:!0}),e.jsx(l,{label:"Phone Number",type:"tel",name:"phone",value:t.phone,onChange:r=>i("phone",r.target.value),error:s.phone,required:!0})]}),e.jsx(l,{label:"Date of Birth",type:"date",name:"dateOfBirth",value:t.dateOfBirth,onChange:r=>i("dateOfBirth",r.target.value),error:s.dateOfBirth,required:!0}),e.jsx(l,{label:"Address",name:"address",value:t.address,onChange:r=>i("address",r.target.value),error:s.address,required:!0}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(l,{label:"City",name:"city",value:t.city,onChange:r=>i("city",r.target.value),error:s.city,required:!0}),e.jsx(l,{label:"State",name:"state",value:t.state,onChange:r=>i("state",r.target.value),error:s.state,required:!0}),e.jsx(l,{label:"ZIP Code",name:"zipCode",value:t.zipCode,onChange:r=>i("zipCode",r.target.value),error:s.zipCode,required:!0})]})]});case 2:return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Education Details"}),e.jsxs(l,{label:"Current Education Level",type:"select",name:"currentEducationLevel",value:t.currentEducationLevel,onChange:r=>i("currentEducationLevel",r.target.value),error:s.currentEducationLevel,required:!0,children:[e.jsx("option",{value:"",children:"Select education level"}),e.jsx("option",{value:"high-school",children:"High School"}),e.jsx("option",{value:"undergraduate",children:"Undergraduate"}),e.jsx("option",{value:"graduate",children:"Graduate"})]}),e.jsx(l,{label:"School/University Name",name:"schoolName",value:t.schoolName,onChange:r=>i("schoolName",r.target.value),error:s.schoolName,required:!0}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(l,{label:"Current GPA",name:"gpa",value:t.gpa,onChange:r=>i("gpa",r.target.value),error:s.gpa,required:!0}),e.jsx(l,{label:"Expected Graduation Year",type:"number",name:"graduationYear",min:"2024",max:"2030",value:t.graduationYear,onChange:r=>i("graduationYear",r.target.value),error:s.graduationYear,required:!0})]}),e.jsx(l,{label:"Intended Major/Field of Study",name:"intendedMajor",value:t.intendedMajor,onChange:r=>i("intendedMajor",r.target.value),error:s.intendedMajor,required:!0}),e.jsx(l,{label:"Career Goals and Aspirations",type:"textarea",name:"careerGoals",value:t.careerGoals,onChange:r=>i("careerGoals",r.target.value),error:s.careerGoals,placeholder:"Tell us about your career goals and how this scholarship will help you achieve them...",required:!0})]});case 3:return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Upload Documents"}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Required Documents:"}),e.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[e.jsx("li",{children:"• Official transcripts"}),e.jsx("li",{children:"• Letter of recommendation"}),e.jsx("li",{children:"• Personal statement or essay"}),e.jsx("li",{children:"• Proof of financial need (optional)"})]})]}),e.jsx(S,{label:"Upload Documents",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",multiple:!0,onFilesChange:r=>i("documents",r),error:s.documents,required:!0})]});default:return null}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12",children:[e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Scholarship Application"}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Step ",n," of ",x]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${n/x*100}%`}})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8",children:[C(),e.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(N,{variant:"outline",onClick:k,disabled:n===1,children:"Previous"}),n<x?e.jsx(N,{onClick:j,children:"Next Step"}):e.jsx(N,{onClick:w,loading:g,disabled:g,children:"Submit Application"})]})]})]}),e.jsx(L,{isOpen:p,onClose:()=>f(!1),title:"Application Submitted Successfully!",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto",children:e.jsx("svg",{className:"w-8 h-8 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Thank you for your application! We will review your submission and contact you within 2-3 weeks."}),e.jsx(N,{onClick:()=>f(!1),children:"Close"})]})})]})};export{P as default};
